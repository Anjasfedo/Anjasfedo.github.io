---
import "../styles/global.css";
import { FloatingDockWrapper } from "../components/shared/floating-dock-wrapper";
import { Footer } from "../components/shared/footer";
import { ThemeLanguageToggle } from "../components/shared/theme-language-toggle";
import { getLangFromUrl, useTranslations } from "../i18n/utils";

const title = "M. Anjasfedo Afridiansah | Software Engineer & ML Enthusiast";
const description =
  "M. Anjasfedo Afridiansah (Anjasfedo / Anjas / Fedo) is a Software Engineer based in Bengkulu specializing in Web, Mobile, and Machine Learning. Building scalable software and intelligent digital experiences.";
const url = "https://anjasfedo.github.io";
// Using the circular version for the main site image
const image = `${url}/profile-circle.webp`;

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

// Centralize navigation logic here in Astro (Server Side)

const navigationItems = [
  {
    title: t("nav.about"),
    icon: "IconUser", // Just a string
    href: `/${lang}/`,
  },
  {
    title: t("nav.projects"),
    icon: "IconCode",
    href: `/${lang}/projects`,
  },
  {
    title: t("nav.certificates"),
    icon: "IconAward",
    href: `/${lang}/certificates`,
  },
  // {
  //   title: t("nav.experience"),
  //   icon: "IconBriefcase",
  //   href: `/${lang}/#experience`,
  // },
  // {
  //   title: t("nav.services"),
  //   icon: "IconTerminal2",
  //   href: `/${lang}/#services`,
  // },
  {
    title: t("nav.uses"),
    icon: "IconDeviceDesktop",
    href: `/${lang}/uses`,
  },
];
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />

    <link rel="icon" type="image/webp" href="/profile-circle.webp" />
    <link rel="apple-touch-icon" href="/profile-circle.webp" />

    <title>{title}</title>
    <meta name="title" content={title} />
    <meta name="description" content={description} />
    <meta
      name="keywords"
      content="anjasfedo, anjas, fedo, bengkulu, website developer, web developer, mobile developer, software engineer, developer, machine learning, anjasfedo bengkulu, informatics unib"
    />
    <meta name="author" content="M. Anjasfedo Afridiansah" />

    <meta property="og:type" content="website" />
    <meta property="og:url" content={url} />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content={image} />

    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content={url} />
    <meta property="twitter:title" content={title} />
    <meta property="twitter:description" content={description} />
    <meta property="twitter:image" content={image} />

    <link rel="canonical" href={url} />

    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "M. Anjasfedo Afridiansah",
        "alternateName": ["Anjasfedo", "Anjas", "Fedo"],
        "url": "https://anjasfedo.github.io",
        "image": "https://anjasfedo.github.io/profile-circle.webp",
        "jobTitle": "Software Engineer",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Bengkulu",
          "addressCountry": "ID"
        },
        "description": "Software Engineer based in Bengkulu with expertise in Machine Learning, Full-Stack Web, and Mobile development.",
        "sameAs": [
          "https://github.com/anjasfedo",
          "https://linkedin.com/in/anjasfedo"
        ],
        "knowsAbout": [
          "Web Development",
          "Mobile Development",
          "Machine Learning",
          "Software Engineering",
          "Go",
          "Laravel",
          "React",
          "Python"
        ]
      }
    </script>

    <meta name="generator" content={Astro.generator} />
  </head>
  <body>
    <FloatingDockWrapper client:load items={navigationItems} />
    <ThemeLanguageToggle client:load />

    <slot />

    <Footer client:visible lang={lang} />
  </body>
</html>
